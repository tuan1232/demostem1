<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Soáº¡n VÄƒn 9 - Káº¿t Ná»‘i Tri Thá»©c</title>
  <style>
    :root{
      --accent:#0b74ff; --muted:#6b7280; --card:#ffffff; --bg:#f4f7fb;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial,Helvetica,sans-serif;background:var(--bg);color:#111}
    .topbar{display:flex;align-items:center;gap:16px;padding:12px 20px;background:linear-gradient(90deg,var(--accent),#0060d9);color:#fff;position:sticky;top:0;z-index:50}
    .logo{display:flex;align-items:center;gap:12px}
    .logo img{height:42px;width:auto;border-radius:6px;background:#fff;padding:2px}
    .brand{font-weight:700;font-size:18px}
    .search{flex:1;display:flex}
    .search input{width:100%;padding:10px;border-radius:8px;border:none;outline:none}
    .nav-actions{display:flex;gap:8px}
    .btn{background:#fff;color:var(--accent);padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:600}
    .btn.ghost{background:transparent;color:#fff;border:1px solid rgba(255,255,255,0.18)}

    .wrap{max-width:1200px;margin:22px auto;padding:0 16px;display:grid;grid-template-columns:260px 1fr 300px;gap:18px}

    /* Sidebar */
    .sidebar{background:var(--card);padding:14px;border-radius:10px;box-shadow:0 6px 18px rgba(20,30,60,0.06)}
    .section-title{font-weight:700;margin:0 0 8px 0}
    .course-list{display:flex;flex-direction:column;gap:6px}
    .course-item{padding:10px;border-radius:8px;color:var(--muted);cursor:pointer}
    .course-item.active{background:linear-gradient(90deg,#fff,#f1f6ff);color:#111;font-weight:600}

    .lesson-list{margin-top:12px;display:flex;flex-direction:column;gap:8px}
    .lesson{padding:10px;border-radius:8px;background:#fbfdff;border:1px solid #eef4ff;cursor:pointer}
    .lesson.locked{opacity:0.7}

    /* Content */
    .content{background:var(--card);padding:18px;border-radius:10px;min-height:360px;box-shadow:0 6px 18px rgba(20,30,60,0.06)}
    .content h1{margin-top:0}
    .meta{color:var(--muted);font-size:14px;margin-bottom:10px}

    /* Right column (optional widgets) */
    .aside{background:var(--card);padding:14px;border-radius:10px;height:fit-content;box-shadow:0 6px 18px rgba(20,30,60,0.06)}

    /* Modals */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:80}
    .modal{background:#fff;border-radius:12px;max-width:520px;width:94%;padding:18px}
    .modal h2{margin-top:0}
    .form-row{margin:8px 0}
    label{font-size:13px;color:var(--muted)}
    input[type=text],input[type=password]{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eefb}

    .onboard-steps{display:flex;flex-direction:column;gap:8px}
    .step{background:#f8fbff;padding:10px;border-radius:8px;border:1px solid #e8f0ff}

    /* small screens */
    @media(max-width:920px){
      .wrap{grid-template-columns:1fr;}
      .aside{order:3}
      .sidebar{order:2}
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="logo">
      <img src="/mnt/data/4a04230b-1802-425a-ad37-08418062180c.png" alt="logo">
      <div class="brand">Soáº¡n VÄƒn 9 â€” Káº¿t Ná»‘i Tri Thá»©c</div>
    </div>

    <div class="search" aria-hidden="false">
      <input id="searchInput" placeholder="TÃ¬m bÃ i, tÃ¡c giáº£, chá»§ Ä‘á»..." aria-label="TÃ¬m kiáº¿m">
    </div>

    <div class="nav-actions">
      <button class="btn ghost" id="btn-settings" title="CÃ i Ä‘áº·t">CÃ i Ä‘áº·t</button>
      <button class="btn" id="btn-login">ÄÄƒng nháº­p</button>
      <button class="btn" id="btn-register">ÄÄƒng kÃ½</button>
    </div>
  </header>

  <main class="wrap" role="main">
    <aside class="sidebar" aria-label="Danh má»¥c">
      <div class="section">
        <h3 class="section-title">Soáº¡n VÄƒn 9 (Káº¿t Ná»‘i Tri Thá»©c)</h3>
        <p class="meta">Chá»n má»™t chÆ°Æ¡ng Ä‘á»ƒ xem. Ná»™i dung sáº½ khÃ³a náº¿u báº¡n chÆ°a Ä‘Äƒng nháº­p.</p>

        <nav class="course-list" aria-label="Danh má»¥c bÃ i">
          <div id="cat-1" class="course-item active">Káº¿t ná»‘i tri thá»©c - ToÃ n bá»™</div>
          <div id="cat-2" class="course-item">TÃ³m táº¯t & PhÃ¢n tÃ­ch</div>
          <div id="cat-3" class="course-item">BÃ i táº­p tráº¯c nghiá»‡m</div>
        </nav>

        <div class="section-title" style="margin-top:14px">Danh sÃ¡ch bÃ i</div>
        <div class="lesson-list" id="lessonList">
          <!-- JS will populate lessons -->
        </div>
      </div>
    </aside>

    <section class="content" id="mainContent">
      <h1>ChÃ o má»«ng Ä‘áº¿n vá»›i Soáº¡n VÄƒn 9</h1>
      <p class="meta">Há»‡ thá»‘ng soáº¡n vÄƒn trá»±c quan â€” dÃ nh cho há»c sinh vÃ  giÃ¡o viÃªn. ÄÄƒng kÃ½/ÄÄƒng nháº­p Ä‘á»ƒ má»Ÿ khÃ³a ná»™i dung chi tiáº¿t.</p>

      <div id="welcomeCard" style="display:block">
        <p>Náº¿u Ä‘Ã¢y lÃ  láº§n Ä‘áº§u báº¡n ghÃ©, chÃºng mÃ¬nh cÃ³ vÃ i hÆ°á»›ng dáº«n nhanh.</p>
        <ul>
          <li>Nháº¥n <strong>ÄÄƒng kÃ½</strong> Ä‘á»ƒ táº¡o tÃ i khoáº£n (lÆ°u demo trÃªn trÃ¬nh duyá»‡t).</li>
          <li>Sau khi Ä‘Äƒng nháº­p, chá»n bÃ i bÃªn trÃ¡i Ä‘á»ƒ xem ná»™i dung Ä‘áº§y Ä‘á»§.</li>
          <li>Báº¡n cÃ³ thá»ƒ tÃ¬m kiáº¿m nhanh báº±ng thanh tÃ¬m kiáº¿m á»Ÿ trÃªn cÃ¹ng.</li>
        </ul>
      </div>

      <article id="lessonArea" style="display:none">
        <!-- Lesson content injected here -->
      </article>
    </section>

    <aside class="aside" aria-label="ThÃ´ng tin">
      <div style="display:flex;flex-direction:column;gap:12px">
        <div>
          <h4 style="margin:0">TÃ i khoáº£n</h4>
          <p id="accountInfo" class="meta">Báº¡n chÆ°a Ä‘Äƒng nháº­p.</p>
        </div>

        <div>
          <h4 style="margin:0">TÃ¬m nhanh</h4>
          <p class="meta">GÃµ tÃªn bÃ i hoáº·c tÃ¡c giáº£ rá»“i Enter.</p>
        </div>

        <div>
          <h4 style="margin:0">Há»— trá»£</h4>
          <p class="meta">Muá»‘n mÃ¬nh thÃªm chá»©c nÄƒng? Báº¥m vÃ o CÃ i Ä‘áº·t.</p>
        </div>
      </div>
    </aside>
  </main>

  <!-- Modal backdrop (login/register/confirm) -->
  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true">
    <div class="modal" id="modalBox" role="document">
      <!-- content injected from JS -->
    </div>
  </div>

  <!-- Onboarding quick modal for first-time users -->
  <div id="onboardBackdrop" class="modal-backdrop">
    <div class="modal" role="document">
      <h2>ChÃ o má»«ng Ä‘áº¿n vá»›i Soáº¡n VÄƒn 9 ğŸ“</h2>
      <p>ÄÃ¢y lÃ  phiÃªn báº£n demo Ä‘á»ƒ báº¡n mang Ä‘i thi STEM â€” dá»… dÃ¹ng, cháº¡y trá»±c tiáº¿p trÃªn trÃ¬nh duyá»‡t.</p>
      <div class="onboard-steps">
        <div class="step"><strong>BÆ°á»›c 1:</strong> Báº¥m <em>ÄÄƒng kÃ½</em> á»Ÿ gÃ³c trÃªn Ä‘á»ƒ táº¡o tÃ i khoáº£n demo (lÆ°u trÃªn trÃ¬nh duyá»‡t).</div>
        <div class="step"><strong>BÆ°á»›c 2:</strong> ÄÄƒng nháº­p, sau Ä‘Ã³ chá»n bÃ i há»c á»Ÿ bÃªn trÃ¡i Ä‘á»ƒ má»Ÿ ná»™i dung.</div>
        <div class="step"><strong>BÆ°á»›c 3:</strong> Báº¡n cÃ³ thá»ƒ má»Ÿ rá»™ng thÃªm bÃ i, táº£i ná»™i dung, hoáº·c yÃªu cáº§u mÃ¬nh gá»­i file HTML riÃªng tá»«ng bÃ i.</div>
      </div>
      <div style="display:flex;gap:8px;margin-top:12px">
        <button class="btn" id="startNowBtn">Báº¯t Ä‘áº§u</button>
        <button class="btn ghost" id="skipOnboard">KhÃ´ng hiá»ƒn thá»‹ láº§n sau</button>
      </div>
    </div>
  </div>

  <script>
    // Simple demo data: lessons can be extended or loaded from files later
    const lessons = [
      {id:'b1',title:'Chuyá»‡n ngÆ°á»i con gÃ¡i Nam XÆ°Æ¡ng',locked:true,content:`<h2>Chuyá»‡n ngÆ°á»i con gÃ¡i Nam XÆ°Æ¡ng</h2><p><strong>TÃ¡c giáº£:</strong> Nguyá»…n Dá»¯ (trÃ­ch)</p><p><strong>TÃ³m táº¯t:</strong> ... (Ná»™i dung máº«u cho demo)</p>`},
      {id:'b2',title:'Láº·ng láº½ Sa Pa',locked:true,content:`<h2>Láº·ng láº½ Sa Pa</h2><p><strong>TÃ¡c giáº£:</strong> Nguyá»…n ThÃ nh Long</p><p>Ná»™i dung tÃ³m táº¯t...</p>`},
      {id:'b3',title:'Chiáº¿c lÆ°á»£c ngÃ ',locked:true,content:`<h2>Chiáº¿c lÆ°á»£c ngÃ </h2><p><strong>TÃ¡c giáº£:</strong> Nguyá»…n Quang SÃ¡ng</p><p>Ná»™i dung tÃ³m táº¯t...</p>`},
      {id:'b4',title:'MÃ¹a xuÃ¢n nho nhá»',locked:true,content:`<h2>MÃ¹a xuÃ¢n nho nhá»</h2><p><strong>TÃ¡c giáº£:</strong> Thanh Háº£i</p><p>Ná»™i dung tÃ³m táº¯t...</p>`}
    ];

    // Populate lesson list
    const lessonListEl = document.getElementById('lessonList');
    lessons.forEach(l=>{
      const d = document.createElement('div');
      d.className = 'lesson';
      if(l.locked) d.classList.add('locked');
      d.tabIndex = 0;
      d.innerText = l.title;
      d.onclick = ()=> openLesson(l.id);
      d.onkeypress = (e)=>{ if(e.key==='Enter') openLesson(l.id); }
      lessonListEl.appendChild(d);
    });

    // UI elements
    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalBox = document.getElementById('modalBox');
    const accountInfo = document.getElementById('accountInfo');
    const mainContent = document.getElementById('mainContent');
    const lessonArea = document.getElementById('lessonArea');

    // Onboarding
    const onboardBackdrop = document.getElementById('onboardBackdrop');
    document.getElementById('startNowBtn').onclick = ()=>{
      onboardBackdrop.style.display='none';
      localStorage.setItem('seenOnboard','true');
    }
    document.getElementById('skipOnboard').onclick = ()=>{
      onboardBackdrop.style.display='none';
      localStorage.setItem('seenOnboard','true');
    }
    if(!localStorage.getItem('seenOnboard')){
      onboardBackdrop.style.display='flex';
    }

    // Auth helpers (demo: simple localStorage users)
    function updateAccountUI(){
      const u = localStorage.getItem('currentUser');
      accountInfo.innerText = u ? `Äang Ä‘Äƒng nháº­p: ${u}` : 'Báº¡n chÆ°a Ä‘Äƒng nháº­p.';
      document.getElementById('btn-login').style.display = u ? 'none' : 'inline-block';
      document.getElementById('btn-register').style.display = u ? 'none' : 'inline-block';
      document.getElementById('btn-settings').innerText = u ? 'CÃ i Ä‘áº·t' : 'CÃ i Ä‘áº·t';
    }
    updateAccountUI();

    // Show modal helpers
    function showModal(html){ modalBox.innerHTML = html; modalBackdrop.style.display='flex'; }
    function closeModal(){ modalBackdrop.style.display='none'; modalBox.innerHTML=''; }

    // Login / Register UI
    document.getElementById('btn-login').onclick = ()=>{
      showModal(`
        <h2>ÄÄƒng nháº­p</h2>
        <div class='form-row'><label for='loginUser'>TÃªn Ä‘Äƒng nháº­p</label><input id='loginUser' type='text'></div>
        <div class='form-row'><label for='loginPass'>Máº­t kháº©u</label><input id='loginPass' type='password'></div>
        <div style='display:flex;gap:8px;margin-top:12px'><button class='btn' id='doLogin'>ÄÄƒng nháº­p</button><button class='btn ghost' id='closeModal'>Há»§y</button></div>
      `);
      document.getElementById('closeModal').onclick = closeModal;
      document.getElementById('doLogin').onclick = ()=>{
        const u = document.getElementById('loginUser').value.trim();
        const p = document.getElementById('loginPass').value;
        if(!u||!p){ alert('Vui lÃ²ng Ä‘iá»n Ä‘á»§ thÃ´ng tin'); return; }
        const stored = localStorage.getItem(`user:${u}`);
        if(stored && stored === p){ localStorage.setItem('currentUser',u); alert('ÄÄƒng nháº­p thÃ nh cÃ´ng'); closeModal(); updateAccountUI(); }
        else alert('Sai tÃªn Ä‘Äƒng nháº­p hoáº·c máº­t kháº©u');
      }
    }

    document.getElementById('btn-register').onclick = ()=>{
      showModal(`
        <h2>ÄÄƒng kÃ½</h2>
        <div class='form-row'><label for='regUser'>TÃªn Ä‘Äƒng nháº­p</label><input id='regUser' type='text'></div>
        <div class='form-row'><label for='regPass'>Máº­t kháº©u</label><input id='regPass' type='password'></div>
        <div style='display:flex;gap:8px;margin-top:12px'><button class='btn' id='doReg'>Táº¡o tÃ i khoáº£n</button><button class='btn ghost' id='closeModal2'>Há»§y</button></div>
      `);
      document.getElementById('closeModal2').onclick = closeModal;
      document.getElementById('doReg').onclick = ()=>{
        const u = document.getElementById('regUser').value.trim();
        const p = document.getElementById('regPass').value;
        if(!u||!p){ alert('Vui lÃ²ng Ä‘iá»n Ä‘á»§ thÃ´ng tin'); return; }
        if(localStorage.getItem(`user:${u}`)){ alert('TÃªn Ä‘Äƒng nháº­p Ä‘Ã£ tá»“n táº¡i'); return; }
        localStorage.setItem(`user:${u}`,p);
        localStorage.setItem('currentUser',u);
        alert('ÄÄƒng kÃ½ thÃ nh cÃ´ng vÃ  Ä‘Ã£ Ä‘Äƒng nháº­p!');
        closeModal(); updateAccountUI();
      }
    }

    // Settings - simple demo
    document.getElementById('btn-settings').onclick = ()=>{
      const u = localStorage.getItem('currentUser');
      if(!u){ showModal(`<h2>CÃ i Ä‘áº·t</h2><p class='meta'>Báº¡n cáº§n Ä‘Äƒng nháº­p Ä‘á»ƒ truy cáº­p cÃ i Ä‘áº·t tÃ i khoáº£n.</p><div style='display:flex;gap:8px;margin-top:12px'><button class='btn' id='goLogin'>ÄÄƒng nháº­p</button><button class='btn ghost' id='closeS'>ÄÃ³ng</button></div>`);
        document.getElementById('goLogin').onclick = ()=>{ closeModal(); document.getElementById('btn-login').click(); }
        document.getElementById('closeS').onclick = closeModal;
        return;
      }
      showModal(`<h2>CÃ i Ä‘áº·t tÃ i khoáº£n</h2><p class='meta'>TÃ i khoáº£n: ${u}</p><div style='display:flex;gap:8px;margin-top:12px'><button class='btn' id='doLogout'>ÄÄƒng xuáº¥t</button><button class='btn ghost' id='closeS2'>ÄÃ³ng</button></div>`);
      document.getElementById('doLogout').onclick = ()=>{ localStorage.removeItem('currentUser'); alert('ÄÃ£ Ä‘Äƒng xuáº¥t'); closeModal(); updateAccountUI(); }
      document.getElementById('closeS2').onclick = closeModal;
    }

    // Open lesson - check login
    function openLesson(id){
      const lesson = lessons.find(l=>l.id===id);
      if(!lesson) return;
      const user = localStorage.getItem('currentUser');
      if(!user){
        showModal(`<h2>YÃªu cáº§u Ä‘Äƒng nháº­p</h2><p class='meta'>Báº¡n cáº§n Ä‘Äƒng nháº­p hoáº·c Ä‘Äƒng kÃ½ Ä‘á»ƒ xem ná»™i dung: <strong>${lesson.title}</strong></p><div style='display:flex;gap:8px;margin-top:12px'><button class='btn' id='toLogin'>ÄÄƒng nháº­p</button><button class='btn' id='toReg'>ÄÄƒng kÃ½</button><button class='btn ghost' id='canCancel'>Há»§y</button></div>`);
        document.getElementById('toLogin').onclick = ()=>{ closeModal(); document.getElementById('btn-login').click(); }
        document.getElementById('toReg').onclick = ()=>{ closeModal(); document.getElementById('btn-register').click(); }
        document.getElementById('canCancel').onclick = closeModal;
        return;
      }

      // Show lesson
      lessonArea.style.display = 'block';
      lessonArea.innerHTML = `<div><h2>${lesson.title}</h2><p class='meta'>Má»Ÿ bá»Ÿi: ${user}</p>${lesson.content}<hr><p><em>ÄÃ¢y lÃ  ná»™i dung demo. Náº¿u cáº§n file HTML riÃªng cho bÃ i nÃ y, hÃ£y gÃµ: "Gá»­i bÃ i: ${lesson.title}".</em></p></div>`;
      // Smooth scroll to content
      document.getElementById('mainContent').scrollIntoView({behavior:'smooth'});
    }

    // Search
    document.getElementById('searchInput').addEventListener('keydown',function(e){ if(e.key==='Enter'){ const q=this.value.trim().toLowerCase(); if(!q) return; const found = lessons.find(l=>l.title.toLowerCase().includes(q)); if(found) openLesson(found.id); else alert('KhÃ´ng tÃ¬m tháº¥y bÃ i phÃ¹ há»£p'); } });

    // Close modal on backdrop click
    modalBackdrop.addEventListener('click',function(e){ if(e.target===modalBackdrop) closeModal(); });

    // Update UI once more
    updateAccountUI();

    // Accessibility: focus trap not implemented in demo but elements are keyboard accessible
  </script>
</body>
</html>